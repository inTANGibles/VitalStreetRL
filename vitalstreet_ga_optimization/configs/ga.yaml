# GA/NSGA-II 多目标优化配置
# 必须包含 cost_alpha / cost_beta（cost_proxy = alpha * n_shop_to_public + beta * n_change_business）

max_steps: 20
cost_alpha: 1.0   # shop_to_public 权重
cost_beta: 0.5    # change_business 权重

# 方案A 无时序编码（nodewise_action）：Genome 长度 M=可改造节点数，基因值 0..N，预算 B
encoding_type: "nodewise_action"   # "sequence" | "nodewise_action"
B: 5                              # 最多改造节点数（非零基因数 ≤ B）
pm: 0.2                           # 变异概率
seed: 42
use_mask: true

reward:
  mu_violation: 1.0
  vitality_metrics: {}

transition:
  flow:
    # 活力客流量来源: "complexity"（启发式）| "gnn"（子图+GNN 预测）
    source: "complexity"
    buffer_distance: 10.0
    diversity_weight: 0.5
    weighted_sum_weight: 0.5
    # 当 source 为 gnn 时使用（可为空，则仅 transition 不写 flow，evaluator 末尾用 GNN 写）
    gnn_checkpoint_dir: null   # 例如: "../streetflow_hetero_time_gnn/checkpoints"
    gnn_streetflow_root: null  # 例如: "../streetflow_hetero_time_gnn"
    gnn_num_hops: 2
    gnn_checkpoint_name: "best_gcn_semisupervised.pt"

action_space:
  max_shops: 500
  max_business_types: 20
  max_total_units: 500
